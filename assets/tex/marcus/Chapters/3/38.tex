\mtexe{3.38}
\begin{proof}
	As suggested, choose $\alpha \in S_R^\ast$, $\beta \in R_T^\ast$, and $s \in S$. Then
	\[ T^L_M(\alpha\beta s) = T^K_M(T^L_K(\alpha\beta s)) = T^K_M(\beta T^L_K(\alpha s)) \in T^K_M(\beta R) \subseteq T \]
	by assumption on $\alpha,\beta$. But $(S_R^\ast)(R_T^\ast S)$ are generated by such elements as $S$-modules, so we get that $(S_R^\ast)(R_T^\ast S) \subseteq S_T^\ast$ as claimed. Taking inverses (as $S$-fractional ideals) gives:
	\[ \diff(S \mid T) \subseteq \diff(S \mid R)(\diff(R \mid T)S) \]
	which is one direction. \\
	
	Conversely, suppose $\alpha \in S_T^\ast$ and $s \in S$. Then, for any $r \in R$:
	\[ T^K_M(T^L_K(\alpha s)r) = T^K_M(T^L_K(\alpha sr)) = T^L_M(\alpha sr) \in T \]
	by assumption on $\alpha$. So, $T^L_K(\alpha s) \in R_T^\ast$ and
	\[ T^L_K(\alpha s (\diff(R \mid T)S)) \subseteq T^L_K(S) \subseteq R \]
	showing the reverse inclusion and establishing the equality.
\end{proof}
